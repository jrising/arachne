**assistant**:
> Below are selected log entries of past conversations, as part of an experimental AI memory system. They may have no bearing on the chat.
> 
> 
>   2023-12-22:
>   Resolving Database Query Errors in MediaWiki
> 
> 
> 
>   2023-07-26:
>   Fixing orphaned hole error in shapefile; Converting gBuffer output to SpatialPoly for writing.
> 
> 
> 
>   2023-12-19:
>   Handling PHP Error and Missing Arguments in WordPress Widget
> 
> 
> 
>   2023-06-24:
>   James was having trouble with setting up Passenger for his Flask app; Arachne provided steps to fix the header issue and import error.
> 
> 
> 
>   2023-06-03:
>   James asked for a simple version of La Fontaine's cat and rat story for a 3-year-old; Arachne created a tale of cleverness, teamwork, and the importance of thinking before acting.
> 
> 
> 
>   2023-11-03:
>   Exporting R Tables to Word and Resolving Installation Error
> 
> 
> 
>   2023-07-16:
>   Flask app served under Passenger needs background processing; Arachne suggests using task queue (Celery/RQ) and shared state for progress updates.
> 
> 
> 
>   2023-07-18:
>   Inquired about appropriate location for JavaScript file in Flask static directory; Advised usage of `url_for()` function to generate correct path.
> 
> 
> 
>   2023-05-23:
>   How to draw from a conditional normal distribution; Difference between β̂ and expected value in econometrics.
> 
> 
> 
>   2023-08-16:
>   James experienced wifi connection issues on computer restart; Arachne advised adjusting DHCP settings in the router.
> 
> 
>     
**user**:
> I am trying to upgrade an old version of mediawiki. But I have a catch-22. When I try to use my existing LocalSettings.php file, I get errors when I get the error: `Uncaught FatalError: $wgBaseDirectory must not be modified in settings files!`. When I try to go through the process of installing from the webform-- which would make a new LocalSettings.php file-- it fails because the database update fails. So it never gets to the point where it would generate a LocalSettings.php file. I think I can fix the database updates if I can run the `./maintenance/update.php` script directly, but I can't do that without a working LocalSettings.php file. What can I do?
**assistant**:
> It does indeed sound like a tricky situation, James. One possible approach could be to create a simplified, temporary `LocalSettings.php` file, essentially doing the installation "by hand". This would allow you to run `./maintenance/update.php` to hopefully resolve the database issues.
> 
> Here's a simple version you can use as a starting point. Replace the fields inside the `< >`s with your own details.
> 
> ```php
> <?php  
> 
> $IP = '/path/to/your/mediawiki';  // replace with the actual directory path of your mediawiki source files 
> 
> ## Database settings  
> $wgDBtype = "mysql";  
> $wgDBserver = "<DB_HOST>";  
> $wgDBname = "<DB_NAME>";  
> $wgDBuser = "<DB_USER>";  
> $wgDBpassword = "<DB_PASSWORD>";  
> 
> ## Site settings
> $wgSitename = 'My Wiki';  
> $wgScriptPath = '';  //relative to domain 
> $wgScript = "$wgScriptPath/index.php";  
> $wgRedirectScript = "$wgScriptPath/redirect.php";  
> 
> ## Not strictly necessary, but helps keep things separate:
> $wgArticlePath = "$wgScript?title=$1";  
> $wgUsePathInfo = true;   
> ```
> This `LocalSettings.php` covers the absolute basics – the location of MediaWiki's files (`$IP`), the database connection details (`$wgDBtype`, `$wgDBserver`, `$wgDBname`, `$wgDBuser`, `$wgDBpassword`), and some basic site settings.
> 
> Hopefully, this will be enough to get `update.php` working. I wish you the best of luck and do let me know if you need further assistance.
